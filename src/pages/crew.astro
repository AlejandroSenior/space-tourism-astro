---
import DefaultLayout from '@/layouts/DefaultLayout.astro';
---

<DefaultLayout
  title="Space tourism - destination"
  layoutClass="grid grid-cols-1 lg:grid-cols-2 max-md:px-10"
  backgroundImg="/img/crew-background.avif"
>
  <div class="self-center lg:self-end">
    <p class="heading5 text-white max-md:hidden md:max-lg:ml-10 md:max-lg:mt-10"><span class="text-white/30">02</span> MEET YOUR CREW</p>

    <div class="my-5 text-center md:hidden">
      <button id="moon" class="mr-3 h-[10px] w-[10px] rounded-full bg-white/30 lg:h-[15px] lg:w-[15px]"></button>
      <button id="mars" class="mr-3 h-[10px] w-[10px] rounded-full bg-white/30 lg:h-[15px] lg:w-[15px]"></button>
      <button id="europe" class="mr-3 h-[10px] w-[10px] rounded-full bg-white/30 lg:h-[15px] lg:w-[15px]"></button>
      <button id="titan" class="h-[10px] w-[10px] rounded-full bg-white/30 lg:h-[15px] lg:w-[15px]"></button>
    </div>

    <div class="mx-auto max-w-[550px] max-lg:text-center lg:mt-32">
      <div class="md:max-lg:mt-12">
        <p class="heading4 text-white/30" id="position">COMMANDER</p>
        <p class="heading3 text-white" id="name">DOUGLAS HURLEY</p>
        <p class="text-primary max-lg:mx-auto lg:mb-28 lg:max-w-[450px]" id="description">
          Douglas Gerald Hurley is an American engineer, former Marine Corps pilot and former NASA astronaut. He launched into space for the
          third time as commander of Crew Dragon Demo-2.
        </p>
      </div>

      <div class="my-5 max-md:hidden lg:mb-24">
        <button id="moon" class="mr-3 h-[10px] w-[10px] rounded-full bg-white/30 lg:h-[15px] lg:w-[15px]"></button>
        <button id="mars" class="mr-3 h-[10px] w-[10px] rounded-full bg-white/30 lg:h-[15px] lg:w-[15px]"></button>
        <button id="europe" class="mr-3 h-[10px] w-[10px] rounded-full bg-white/30 lg:h-[15px] lg:w-[15px]"></button>
        <button id="titan" class="h-[10px] w-[10px] rounded-full bg-white/30 lg:h-[15px] lg:w-[15px]"></button>
      </div>
    </div>
  </div>
  <div class="self-end max-md:order-first">
    <p class="heading5 my-5 text-white max-md:text-center md:hidden"><span class="text-white/30">02</span> MEET YOUR CREW</p>
    <div class="w-[177px] max-lg:mx-auto md:w-[456px] lg:w-[568px]">
      <img id="heavenly-body-img" src="/img/douglas-hurley.avif" alt="Crew image" />
    </div>
    <div class="mx-auto h-[1px] w-[80%] bg-[#383B4B]"></div>
  </div>
</DefaultLayout>

<script>
  document.addEventListener('astro:page-load', () => {
    const heavenlyBodies = [
      {
        id: 'moon',
        name: 'MOON',
        description:
          'See our planet as you’ve never seen it before. A perfect relaxing trip away to help regain perspective and come back refreshed. While you’re there, take in some history by visiting the Luna 2 and Apollo 11 landing sites.',
        avg_distance: '384,000 km',
        est_travel_time: '3 DAYS'
      },
      {
        id: 'mars',
        name: 'MARS',
        description:
          'Don’t forget to pack your hiking boots. You’ll need them to tackle Olympus Mons, the tallest planetary mountain in our solar system. It’s two and a half times the size of Everest!',
        avg_distance: '225 MIL. km',
        est_travel_time: '9 months'
      },
      {
        id: 'europe',
        name: 'EUROPA',
        description:
          'The smallest of the four Galilean moons orbiting Jupiter, Europa is a winter lover’s dream. With an icy surface, it’s perfect for a bit of ice skating, curling, hockey, or simple relaxation in your snug wintery cabin.',
        avg_distance: '628 MIL. km',
        est_travel_time: '3 YEARS'
      },
      {
        id: 'titan',
        name: 'TITAN',
        description:
          'The only moon known to have a dense atmosphere other than Earth, Titan is a home away from home (just a few hundred degrees colder!). As a bonus, you get striking views of the Rings of Saturn.',
        avg_distance: '1.6 BIL. km',
        est_travel_time: '7 YEARS'
      }
    ];

    const heavenlyBodiesLinks = document.querySelectorAll('.heavenly-body-link');
    const heavenlyBodyImage = document.getElementById('heavenly-body-img');
    const name = document.getElementById('name');
    const description = document.getElementById('description');
    const avgDistance = document.getElementById('avg-distance');
    const travelTime = document.getElementById('travel-time');

    heavenlyBodiesLinks.forEach((link) => {
      link.addEventListener('click', (event) => {
        const selectedId = (event.currentTarget as HTMLElement).id;

        heavenlyBodiesLinks.forEach((link) => {
          link.classList.remove('active');
        });

        if (link.id === selectedId) link.classList.add('active');

        heavenlyBodyImage?.setAttribute('src', `/img/${selectedId}.avif`);
        name!.textContent = heavenlyBodies.find((e) => e.id === selectedId)!.name;
        description!.textContent = heavenlyBodies.find((e) => e.id === selectedId)!.description;
        avgDistance!.textContent = heavenlyBodies.find((e) => e.id === selectedId)!.avg_distance;
        travelTime!.textContent = heavenlyBodies.find((e) => e.id === selectedId)!.est_travel_time;
      });
    });
  });
</script>

<style>
  /* TODO: usar este css para rotar los planetas, pero hay que utilizar imágenes como las del ejemplo (ultra-wide) */
  /* https://stackoverflow.com/questions/61689623/rotating-planets-with-css */
</style>
